<button id="myButton">查看昆明天气20230407</button>
<div id="weatherTable"></div>
<script>
  var myButton = document.getElementById("myButton");
  var weatherTable = document.getElementById("weatherTable");
  myButton.addEventListener("click", function () {
    var apiKey = 'ec6de98329e3426b62559fafd25516ec'; // 请将 your_api_key 替换为你的 API Key
    fetch('https://api.openweathermap.org/data/2.5/weather?q=kunming&appid=' + apiKey)
      .then(response => response.json())
      .then(data => {
        var weather = data.weather[0];
        var temperature = (data.main.temp - 273.15).toFixed(1) + '℃';
        var humidity = data.main.humidity + '%';
        var table = `
                                 <table>
                                   <thead>
                                       <tr>
                                       <th>天气状况</th>
                                       <th>温度</th>
                                       <th>湿度</th>
                                      </tr>
                                 </thead>
                                  <tbody>
                                        <tr>
                                         <td>${weather.description}</td>
                                          <td>${temperature}&#8451;</td>
                                         <td>${humidity}%</td>
                                         </tr>
                                    </tbody>
                                  </table>
                                   `;
        weatherTable.innerHTML = table;
      })
      .catch(error => console.error(error));
  });
</script>
